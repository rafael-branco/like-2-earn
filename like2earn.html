<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <style>
            html,
            body {
                background-color: black;
                margin: 0;
                padding: 0;
            }

            .atomicat-heading-title {
                white-space: unset !important;
            }

            body {
                padding-bottom: 200px !important;
            }

            #header {
                display: flex;
                align-items: center;
                justify-content: center;
                border-bottom: 2px solid white;
                padding-top: 15px;
                padding-bottom: 15px;
                position: fixed;
                background-color: black;
                width: 100%;
                z-index: 10;
                margin-bottom: 200px;
                top: 0;
            }

            #header img {
                max-width: 100%;
                margin-left: auto;
                margin-right: auto;
            }

            @media (max-width: 1200px) {
                #header img {
                    max-width: 90%;
                }
            }

            @media (max-width: 600px) {
                #header img {
                    max-width: 100%;
                    margin-left: auto;
                    margin-right: auto;
                }
            }

            #tutorial {
                padding-top: 90px;
                margin-bottom: 25px;
            }

            #photo-1 img {
                width: 100%;
            }

            .balance-box {
                background-color: #5a3c9f;
                padding: 20px;
                border-radius: 10px;
                color: white;
                right: 0;
                margin-right: 5px;
                font-family: system-ui, -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
                font-weight: 500;
                font-size: 28px;
                text-transform: uppercase;
                text-align: center;
            }

            @media (max-width: 600px) {
                .balance-box {
                    transform: scale(0.85);
                }
            }

            .image-container {
                margin-bottom: 25px;
                position: relative;
                scroll-margin-top: 100px;
                display: inline-block;
            }

            .image-container::after {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: black;
                opacity: 0; /* Start with no black overlay */
                transition: opacity 0.5s ease-in-out; /* Smooth transition for the overlay */
                pointer-events: none; /* Prevent the overlay from capturing clicks */
            }

            .image-container.black-overlay::after {
                opacity: 1; /* Full black overlay */
            }

            .double-tap-image {
                width: 100%; /* Adjust as needed */
                display: block;
            }

            .heart-icon {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-size: 68px; /* Adjust size of the heart */
                color: transparent;
                text-shadow: white 0px 0px 0px;
                opacity: 0;
                transition: opacity 0.5s ease-in-out; /* Adjust timing to your preference */
                /* Ensure the heart icon is positioned correctly but initially hidden */
                display: block; /* or inline-block, depending on your layout */
                pointer-events: none; /* Ignore clicks */
            }

            #tutorial {
                display: flex;
                align-items: center;
                justify-content: center;
                flex-direction: column;
                z-index: 5;
                background-color: black;
                transition: opacity 0.5s ease-out;
                opacity: 1; /* Ensure the element is fully visible initially */
            }

            #tutorial-instructions {
                width: 90%;
                margin-bottom: 15px;
            }

            #tutorial-text {
                /*width: 90%;*/
            }

            #tutorial-text h4 {
                color: #5a3c9f;
                font-size: larger;
                margin-bottom: 3px !important;
            }

            #tutorial-text p {
                color: white;
                font-size: 16px;
                margin-top: 5px;
                padding: 0 5px;
            }

            #tutorial-text h4,
            #tutorial-text p {
                font-family: system-ui, -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
                text-align: center;
                text-transform: uppercase;
                font-weight: 600;
            }

            #start-button,
            #get-your-money {
                background-color: #5a3c9f;
                color: white;
                font-family: system-ui, -apple-system, BlinkMacSystemFont,
                    "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
                    "Helvetica Neue", sans-serif;
                font-weight: 500;
                margin: auto;
                padding: 12px;
                width: 140px;
                text-transform: uppercase;
                font-size: large;
                border: none;
                margin-top: 20px;
                margin-bottom: 20px;
            }

            #get-your-money {
                width: 200px;
                text-align: center;
            }

            #photo-4 {
                padding: 200px 0 200px 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        </style>
        <div id="header">
            <img
                src="https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/Pictures/LlkgcH9968614.png"
            />
        </div>
        <div id="tutorial">
            <!--
            <img
                id="tutorial-instructions"
                src="https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/l/azmMgA7524077.jpeg"
            />-->
            <!--
            <img
                id="tutorial-text"
                src="https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/Pictures/CXLrbP7891364.png"
            />-->
            <div id="tutorial-text">
                <h4>Tutorial</h4>
                <p>Double tap the photo to increase your balance</p>
            </div>
        </div>
        <div id="content">
            <div id="photo-1" class="image-container" data-flag="0">
                <img
                    class="double-tap-image"
                    src="https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/Pictures/QYswQM3815049.jpeg"
                />
                <div class="heart-icon">❤️</div>
            </div>

            <div class="balance-box">
                Balance: $<span id="balance">33.82</span>
            </div>

            <div id="photo-4" class="image-container" data-flag="0">
                <a id="get-your-money">Get your money</a>
            </div>
        </div>
            <script>
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function getRandomFloatInRange(min, max) {
            return Math.random() * (max - min) + min;
        }

        function getBalanceValue() {
            const balanceElement = document.querySelector("#balance");
            return parseFloat(balanceElement.textContent);
        }

        async function changePhoto(newPhotoSrc) {
            const photoElement = document.querySelector(".double-tap-image");
            photoElement.src = newPhotoSrc;
        }

        async function toggleImageState(imageContainerId) {
            const container = document.getElementById(imageContainerId);
            if (!container) return;

            const flag = container.getAttribute("data-flag");
            const isOverlayActive = flag === "1";
            container.classList.toggle("black-overlay", !isOverlayActive);
            container.setAttribute("data-flag", isOverlayActive ? "0" : "1");
        }

        function updateBalance() {
            const balanceElement = document.querySelector("#balance");
            const incrementValue = 11.1;
            const currentBalance = getBalanceValue();
            balanceElement.textContent = (currentBalance + incrementValue).toFixed(2);
        }

        function toggleHeart(heartIcon) {
            heartIcon.style.opacity = "1";
            setTimeout(() => { heartIcon.style.opacity = "0"; }, 550);
        }

        document.addEventListener("DOMContentLoaded", () => {
            let lastTap = 0;
            let photoIndex = 0;
            const photoSrc = [
                "https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/Pictures/EYSXeB3781182.jpeg",
                "https://media.atomicatpages.com/u/StlMsITZzhTRIXt34Y17ulof2K12/Pictures/xJlJMK5128729.jpeg",
            ];
            const imageContainers = document.querySelectorAll(".image-container");

            imageContainers.forEach(container => {
                container.addEventListener("touchend", async (event) => {
                    const currentTime = new Date().getTime();
                    const tapLength = currentTime - lastTap;
                    if (tapLength < 250 && tapLength > 0) {
                        toggleHeart(container.querySelector(".heart-icon"));
                        updateBalance();
                        await sleep(900);
                        if (photoIndex < photoSrc.length) {
                            await toggleImageState("photo-1");
                            await sleep(200);
                            await toggleImageState("photo-1");
                            await changePhoto(photoSrc[photoIndex++]);
                        }
                        
                    }
                    lastTap = currentTime;
                });
            });
        });
    </script>

        <script>
            document
                .getElementById("start-button")
                .addEventListener("click", function () {
                    var tutorial = document.getElementById("tutorial");
                    tutorial.style.opacity = "0"; // Start the fading effect
                    // Wait for the transition to finish before hiding the element
                    setTimeout(function () {
                        tutorial.style.display = "none";
                        scrollToNextPhoto("photo-0");
                    }, 500); // This duration should match the CSS transition duration
                });
        </script>
    </body>
</html>
